(function(t){function n(n){for(var a,s,r=n[0],c=n[1],l=n[2],p=0,f=[];p<r.length;p++)s=r[p],o[s]&&f.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(n);while(f.length)f.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],a=!0,r=1;r<e.length;r++){var c=e[r];0!==o[c]&&(a=!1)}a&&(i.splice(n--,1),t=s(s.s=e[0]))}return t}var a={},o={app:0},i=[];function s(n){if(a[n])return a[n].exports;var e=a[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=t,s.c=a,s.d=function(t,n,e){s.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,n){if(1&n&&(t=s(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var a in t)s.d(e,a,function(n){return t[n]}.bind(null,a));return e},s.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(n,"a",n),n},s.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},s.p="/vue-youbike/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var u=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),o=(e("4989"),e("9062")),i=e.n(o),s=(e("e40d"),e("ee98")),r=e.n(s),c=e("bc3a"),l=e.n(c),u=e("a7fe"),p=e.n(u),f=e("2f62"),d={stateinfo:function(t){return t.map.nowpos},choosepos:function(t){return t.map.choose},planinfo:function(t){return t.map.planinfo},distance:function(t){return t.map.distance},time:function(t){return t.map.time}},m=d;a["default"].use(p.a,l.a);var v={state:{choose:{},allstation:{},nowpos:{},planinfo:{},distance:0,time:0},mutations:{setchoose:function(t,n){var e=n.mday.substring(0,4),a=n.mday.substring(4,6),o=n.mday.substring(6,8),i=n.mday.substring(8,10),s=n.mday.substring(10,12),r=n.mday.substring(12,14);n.mday=e.concat("/",a,"/",o," ",i,":",s,":",r),t.choose=n},savePosition:function(t,n){t.nowpos=n},savePlan:function(t,n){t.planinfo=n},planDistanse:function(t,n){for(var e=0;e<n.length;e+=1)t.distance=n[e].distance.value+t.distance},planTime:function(t,n){for(var e=0;e<n.length;e+=1)t.time=n[e].duration.value+t.time;t.time=Math.round(t.time/60)}},actions:{getchoose:function(t,n){var e=t.commit;e("setchoose",n)},saveplan:function(t,n){var e=t.commit;e("savePlan",n),e("planDistanse",n),e("planTime",n)},savepos:function(t,n){var e=t.commit;e("savePosition",n)}}},g=v;a["default"].use(f["a"]);var _=new f["a"].Store({modules:{map:g},getters:m}),h=_,b=e("8c4f"),y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("Map",{staticClass:"home__left"}),e("carinfo",{staticClass:"home__right"})],1)},w=[],C=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"section-carinfo"},[void 0!=t.choosepos.sna?e("div",{staticClass:"statinfo"},[e("div",{staticClass:"statinfo__name"},[t._v(t._s(t.choosepos.sna))]),e("div",{staticClass:"statinfo__num"},[e("div",{staticClass:"statinfo__num-bike"},[e("i",{staticClass:"fas fa-bicycle statinfo__num-icon"}),e("p",[t._v("可借 : "+t._s(t.choosepos.sbi))])]),e("div",{staticClass:"statinfo__num-park"},[e("i",{staticClass:"fas fa-parking statinfo__num-icon"}),e("p",[t._v("可還 : "+t._s(t.choosepos.bemp))])])]),e("div",{staticClass:"statinfo__script"},[e("p",[t._v(t._s(t.choosepos.ar))])]),e("div",{staticClass:"statinfo__distance"},[e("i",{staticClass:"fas fa-walking statinfo__distance-icon"}),e("p",[t._v(t._s(t.distance)+" 公尺")]),e("i",{staticClass:"far fa-clock statinfo__distance-icon"}),e("p",[t._v(t._s(t.time)+" 分")])]),e("div",{staticClass:"statinfo__time"},[e("p",[t._v("更新時間"+t._s(t.choosepos.mday))])])]):t._e(),t._l(t.planinfo,function(n,a){return e("div",{key:a,staticClass:"direct"},[e("p",{staticClass:"direct__num"},[t._v(t._s(a+1)+".")]),e("p",{staticClass:"direct__script",domProps:{innerHTML:t._s(n.instructions)}})])})],2)},O=[],j=e("cebc"),k=e("1157"),M=e.n(k),P={data:function(){return{newValue:"",theroad:"展開路線"}},methods:{},computed:Object(j["a"])({},Object(f["b"])(["choosepos","stateinfo","planinfo","distance","time"])),mounted:function(){M()(".statinfo__road").click(function(){})}},$=P,x=e("2877"),E=Object(x["a"])($,C,O,!1,null,"6a306121",null),L=E.exports,S=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(n){t.isLoading=n}}}),e("div",{staticClass:"map",attrs:{id:"map"}})],1)},T=[],F=(e("ac6a"),e("8615"),{data:function(){return{center:{lat:25.0473771,lng:121.5136014},place:{},pos:{},choose:{},initmap:"",destination:{},isLoading:!1}},methods:{mapbuild:function(){this.initmap=new google.maps.Map(document.getElementById("map"),{zoom:13,center:this.center})},getStation:function(){var t=this,n=this;n.isLoading=!0;var e="https://tcgbusfs.blob.core.windows.net/blobyoubike/YouBikeTP.json";this.$http.get(e).then(function(e){for(var a=Object.values(e.data.retVal),o=function(e){t.place[e]={position:{lat:parseFloat(a[e].lat),lng:parseFloat(a[e].lng)},title:a[e].sna};var o={};o[e]=new google.maps.Marker({position:{lat:t.place[e].position.lat,lng:t.place[e].position.lng},map:t.initmap,animation:google.maps.Animation.DROP});var i={};i[e]=new google.maps.InfoWindow({content:t.place[e].title}),o[e].addListener("click",function(){i[e].open(this.initmap,o[e]),n.choose=a[e],n.$store.dispatch("getchoose",n.choose),n.planroad(n.choose)})},i=0;i<a.length;i+=1)o(i);n.isLoading=!1})},planroad:function(t){var n=this,e=new google.maps.DirectionsService,a=new google.maps.DirectionsRenderer;a.setMap(this.initmap);var o={origin:{lat:n.pos.lat,lng:n.pos.lng},destination:{lat:parseFloat(t.lat),lng:parseFloat(t.lng)},travelMode:"WALKING"};n.destination=o.destination,e.route(o,function(t,e){"OK"==e&&n.$store.dispatch("saveplan",t.routes[0].legs[0].steps)})},getlocation:function(){var t=this,n=this;navigator.geolocation.getCurrentPosition(function(e){var a=e.coords.latitude,o=e.coords.longitude;n.initmap=new google.maps.Map(document.getElementById("map"),{zoom:17,center:{lat:a,lng:o}}),n.pos={lat:a,lng:o},t.$store.dispatch("savepos",n.pos);var i=new google.maps.Marker({position:{lat:a,lng:o},map:t.initmap,animation:google.maps.Animation.BOUNCE});i.setIcon({path:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z",scale:.1,strokeWeight:0,fillColor:"#09c",fillOpacity:1});var s=new google.maps.InfoWindow({content:"目前所在地"});s.open(t.initmap,i),t.getStation()})}},mounted:function(){this.mapbuild(),this.getlocation()},computed:{}}),I=F,D=Object(x["a"])(I,S,T,!1,null,null,null),z=D.exports,A={components:{carinfo:L,Map:z},data:function(){return{}}},B=A,N=Object(x["a"])(B,y,w,!1,null,"ad55620c",null),R=N.exports,W=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("Navigation"),e("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[e("router-view")],1),e("Footer")],1)},H=[],J=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"navbar"},[e("p",{staticClass:"navbar__title"},[t._v("台北市Youbike車輛查詢")])])])}],V={},Y=Object(x["a"])(V,J,K,!1,null,null,null),G=Y.exports,U=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},q=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"footer"},[e("p",[t._v("\n      Copyright\n      "),e("i",{staticClass:"far fa-copyright"}),t._v(" 2019 Patrick_lin All Rights Reserved\n    ")])])])}],Q={},X=Object(x["a"])(Q,U,q,!1,null,null,null),Z=X.exports,tt={components:{Navigation:G,Footer:Z},data:function(){return{}}},nt=tt,et=Object(x["a"])(nt,W,H,!1,null,null,null),at=et.exports;a["default"].use(b["a"]);var ot=new b["a"]({routes:[{path:"/",component:at,children:[{path:"/",component:R,name:"Home"}]}]}),it=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},st=[],rt=(e("5c0b"),{}),ct=Object(x["a"])(rt,it,st,!1,null,null,null),lt=ct.exports;a["default"].config.productionTip=!1,a["default"].component("Loading",i.a),a["default"].use(r.a),a["default"].use(p.a,l.a),new a["default"]({router:ot,store:h,render:function(t){return t(lt)}}).$mount("#app")},"5c0b":function(t,n,e){"use strict";var a=e("5e27"),o=e.n(a);o.a},"5e27":function(t,n,e){}});
//# sourceMappingURL=app.e2993402.js.map